name: fake_mocap
root: ./
startup_window: roscore
pre_window: export UAV_NAMESPACE=red
windows:
  - roscore:
      layout: tiled
      panes:
        - roscore
        - waitForRos; roslaunch px4_gazebo px4_sitl.launch vehicle:=kopterworx_mocap
        - waitForRos; rosparam set use_sim_time true; roslaunch px4_gazebo mavros.launch config_yaml:=custom_config/px4_config.yaml
  - gazebo:
      layout: tiled
      panes:
        - waitForRos; roslaunch px4_gazebo kopterworx.launch Y:=1.57
  - control:
      layout: tiled
      panes:
        - source ~/new_ws/devel/setup.zsh; waitForRos; waitForOdometry; roslaunch uav_ros_control pid_carrot.launch manual_takeoff:=true control_type:=pid_cascade_node_px4_yawrate odometry:=mavros/local_position/odom
        - "#rostopic pub --once /$UAV_NAMESPACE/joy sensor_msgs/Joy \"buttons: [0,0,0,0,0,1]\""
  - trajectory:
      layout: tiled
      panes:
        - waitForRos; waitForOdometry; roslaunch uav_ros_tracker topp_tracker.launch tracker_config:=./custom_config/topp_config_custom.yaml
        - "#rostopic pub /$UAV_NAMESPACE/tracker/input_pose"
  - mocap:
      layout: tiled
      panes:
        - waitForRos; waitForSimulation; 
          roslaunch uav_ros_general vision_pose_publisher.launch 
          pose:=/kopterworx/pose pose_out:=mavros/vision_pose/pose
          config_file:=custom_config/vision_pose_config.yaml